---
layout: post
title: uva 11481 Arrange the Numbers
date: 2013-02-08 15:26
categories: acmicpc
---

题目的意思就是默认的1到n的序列是{1,2,3,4....n} ,现在求有多少种排列使得共n位长的序列中前m位中恰好有m位相同。

第一感觉是递推诶，但是想了很久也没有办法，当然也可以用容斥方法做。如果是递推，假设之前n位不同，后面有m位任意的方法数记为dp[n][m],为了与之前的相关联，那么我们把满足dp[n][m-1]的每一种加上一个最后一位，然后其中第m位可以存在的地方可以存在于总共的(n+m)个位置上,另外一种情况，原先可能只有n-1位不同，一位相同的和最新添加的那位交换之后产生n位不同，所以有dp[n-1][m-1]加上一位交换，其中交换的地方可能是n种，所以就是n*dp[n-1][m-1],所以dp[n][m]=(n+m)dp[n][m-1]+n*dp[n-1][m-1];其中边界情况dp[n][0]就是n位的错排。