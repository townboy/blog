---
layout: post
title: hdu 4765 Tsp
date: 2013-09-29 22:33
categories: acmicpc
---


题目大意：在100个点中的图中，要求现在选择一条路径遍历所有点，而且，加了很多限制条件。

分析：在比赛的时候以为是图论，然后看了一下，比赛的时候以为这么多条件，才100个点，那么我们就爆搜一下吧，赛后一看别人的tle代码，都是爆搜，幸亏比赛的时候被其他题目卡着没时间写这道题目，额

解法：赛后看了清华的代码，终于给我找到一份比较简洁的代码，发现做法是区间dp。

分析一下题目中的条件，可以得出几点结论

（1）放置点的顺序是递减的。

（2）一个区间一定可以分成多个区间的最优解的组合

用dp[a][b][c] 表示从c+开始操作完从a到b的区间所需要的最小值。

如果这个时候c == b 那么我们根据前面的推论，所以说一定这个区间是由c开始 由c结束，所以就从dp[a][b-1][x]递推过来，这个时候枚举一下起点。

如果c ！= b ，那么这个时候，因为起点在这个区间的中间，所以说由两个子区间组成，dp[a][c][c] 和dp[c+1][b][x]，这个时候x枚举一下起点就可以了。

总共是o(n^3)的复杂度 ，同时记录一下前面转移来的前驱 就可以输出解了。
